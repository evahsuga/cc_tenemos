# 業務自動化ランチャー - 初期設定手順書（開発者向け）

## 📋 対象者
現場PCに初めてアプリをセットアップする開発者・管理者向けの手順書です。

---

## 🖥️ 前提条件

- インターネット接続が可能
- 管理者権限がある
- Google Chromeがインストール済み（未インストールの場合は後述）

---

## ⚙️ 初期設定手順

### ステップ1: Google Chromeのインストール（未インストールの場合のみ）

#### Windows:
1. https://www.google.com/chrome/ にアクセス
2. 「Chromeをダウンロード」をクリック
3. ダウンロードしたファイルを実行してインストール

#### macOS:
1. https://www.google.com/chrome/ にアクセス
2. 「Chromeをダウンロード」をクリック
3. ダウンロードした `.dmg` ファイルを開いてインストール

---

### ステップ2: Node.jsのインストール

#### Windows:
1. https://nodejs.org/ にアクセス
2. 「LTS版」（推奨版）をダウンロード
3. ダウンロードした `.msi` ファイルを実行
4. インストールウィザードで全て「次へ」をクリック
5. 完了後、コマンドプロンプトで確認:
   ```cmd
   node --version
   npm --version
   ```
   ※バージョン番号が表示されればOK

#### macOS:
1. https://nodejs.org/ にアクセス
2. 「LTS版」（推奨版）をダウンロード
3. ダウンロードした `.pkg` ファイルを実行
4. インストールウィザードで「続ける」をクリック
5. 完了後、ターミナルで確認:
   ```bash
   node --version
   npm --version
   ```
   ※バージョン番号が表示されればOK

---

### ステップ3: Gitのインストール

#### Windows:
1. https://git-scm.com/download/win にアクセス
2. 自動でダウンロードが開始（開始しない場合は「Click here to download manually」をクリック）
3. ダウンロードした `.exe` ファイルを実行
4. インストールウィザードで全て「Next」をクリック（デフォルト設定でOK）
5. 完了後、コマンドプロンプトまたはGit Bashで確認:
   ```cmd
   git --version
   ```
   ※バージョン番号が表示されればOK

#### macOS:
1. ターミナルを開く
2. 以下のコマンドを実行:
   ```bash
   git --version
   ```
3. Gitが未インストールの場合、自動でインストール案内が表示されるので指示に従う
4. または、Homebrewを使ってインストール:
   ```bash
   brew install git
   ```

---

### ステップ4: リポジトリのクローン

#### Windows（コマンドプロンプトまたはGit Bash）:
```cmd
cd Desktop
git clone https://github.com/evahsuga/cc_tenemos.git
cd cc_tenemos
```

#### macOS（ターミナル）:
```bash
cd ~/Desktop
git clone https://github.com/evahsuga/cc_tenemos.git
cd cc_tenemos
```

**実行結果:**
- デスクトップに `cc_tenemos` フォルダが作成されます
- 中にプログラムファイルがダウンロードされます

---

### ステップ5: 依存関係のインストール

#### Windows:
```cmd
npm install
```

#### macOS:
```bash
npm install
```

**所要時間:** 3〜5分程度

**実行結果:**
- `node_modules` フォルダが作成されます
- 必要なライブラリが全てインストールされます

---

### ステップ6: 動作確認

#### Windows:
デスクトップの `cc_tenemos` フォルダ内にある **`起動.bat`** をダブルクリック

#### macOS:
デスクトップの `cc_tenemos` フォルダ内にある **`起動.command`** をダブルクリック

**期待される動作:**
1. コンソールウィンドウが開く
2. 「最新版を取得しています...」と表示される
3. 「アプリケーションを起動しています...」と表示される
4. Electronアプリのウィンドウが開く
5. 「受注〜配送 業務フローダッシュボード」が表示される

---

### ステップ7: カラーミーショップ自動化のテスト

1. ダッシュボードで **「ステップ2: カラーミー 売上伝票準備・CSVダウンロード」** をクリック
2. 初回の場合、自動でChromeが起動します
3. モーダルに「Chromeを起動しました...」と表示される
4. Chromeでカラーミーショップにログイン:
   - URL: https://shop-pro.jp/
   - テストアカウントでログイン
5. メニューページに移動: https://admin.shop-pro.jp/?mode=menu
6. 再度 **「ステップ2」** をクリック
7. 3〜5秒で「成功！」と表示されることを確認
8. ダウンロードフォルダにCSVファイルがダウンロードされていることを確認

---

## ✅ 初期設定完了チェックリスト

- [ ] Google Chromeがインストールされている
- [ ] Node.jsがインストールされている（`node --version`で確認）
- [ ] Gitがインストールされている（`git --version`で確認）
- [ ] デスクトップに`cc_tenemos`フォルダがある
- [ ] `起動.bat`（Windows）または`起動.command`（macOS）をダブルクリックでアプリが起動する
- [ ] ステップ2をクリックしてChromeが自動起動する
- [ ] カラーミーショップにログイン後、CSVダウンロードが成功する

---

## 📝 テスト担当者への引き継ぎ

初期設定が完了したら、テスト担当者に以下を伝えてください：

### 毎回の操作（簡単！）

**Windows:**
1. デスクトップの `cc_tenemos` フォルダを開く
2. **`起動.bat`** をダブルクリック
3. アプリが起動したら、ステップ2をクリック
4. 完了！

**macOS:**
1. デスクトップの `cc_tenemos` フォルダを開く
2. **`起動.command`** をダブルクリック
3. アプリが起動したら、ステップ2をクリック
4. 完了！

### 重要な注意事項

- `cc_tenemos` フォルダ内のファイルは**絶対に削除・変更しないでください**
- エラーが出たら、スクリーンショットを撮って報告してください
- 起動スクリプトをダブルクリックすれば、常に最新版が自動取得されます

---

## 🔧 トラブルシューティング

### Node.jsのインストール確認で「コマンドが認識されません」と出る

**原因:** 環境変数のPATHが設定されていない

**対処法（Windows）:**
1. PCを再起動
2. それでも解決しない場合、Node.jsを再インストール

**対処法（macOS）:**
1. ターミナルを再起動
2. それでも解決しない場合、Node.jsを再インストール

### `git clone` で「Permission denied」エラー

**原因:** GitHubリポジトリがプライベート設定になっている

**対処法:**
開発者に連絡して、リポジトリを公開設定にしてもらう

### `npm install` で「EACCES」エラー（macOS）

**原因:** 権限の問題

**対処法:**
```bash
sudo npm install
```
※パスワードを求められたら、macOSのログインパスワードを入力

### `起動.bat` をダブルクリックしても何も起こらない（Windows）

**対処法:**
1. `cc_tenemos` フォルダ内で右クリック → 「Git Bash Here」
2. 以下を実行:
   ```bash
   npm start
   ```
3. エラーメッセージが表示されたら、その内容をメモして報告

### Chromeが自動起動しない

**確認事項:**
- Google Chromeがインストールされているか
- Windowsの場合、`C:\Program Files\Google\Chrome\Application\chrome.exe` が存在するか
- macOSの場合、`/Applications/Google Chrome.app` が存在するか

---

## 📞 サポート

初期設定で問題が発生した場合は、以下の情報を添えて報告してください：

- OS（Windows 10/11、macOS Big Sur/Monterey等）
- 実行したコマンド
- 表示されたエラーメッセージ（全文）
- スクリーンショット

---

**初期設定完了後は、この手順書は不要になります。**
テスト担当者は`起動.bat`または`起動.command`をダブルクリックするだけで使用できます。
